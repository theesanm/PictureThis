# PictureThis .htaccess - cPanel Compatible Static File Serving

# Environment Variables for Secure Configuration
# IMPORTANT: Replace the placeholder values below with your actual credentials
SetEnv DB_HOST "127.0.0.1"
SetEnv DB_USER "cfoxcozj_picThisdb"
SetEnv DB_PASS "LfUYHI%]{sjb5A*u"
SetEnv DB_NAME "cfoxcozj_PictureThis"
SetEnv APP_URL "https://demo.cfox.co.za"
SetEnv APP_ENV "development"
SetEnv PAYFAST_MERCHANT_ID "10041798"
SetEnv PAYFAST_MERCHANT_KEY "vlnqle74tnkl7"
SetEnv PAYFAST_PASSPHRASE "ThisIsATestFromPictureThis"
SetEnv PAYFAST_ENV "development"
SetEnv OPENROUTER_API_KEY "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"
SetEnv OPENROUTER_APP_URL "https://demo.cfox.co.za"

# Email Configuration for PHPMailer with Hosting Provider SMTP
SetEnv SMTP_HOST "metallurgix.aserv.co.za"
SetEnv SMTP_USERNAME "cfoxcozj"
SetEnv SMTP_PASSWORD "Runx141kw007@"
SetEnv SMTP_PORT "587"
SetEnv FROM_EMAIL "picturethis@cfox.co.za"
# Test environment variable (remove after testing)
# SetEnv TEST_VAR "environment_variables_working"

# Prevent PHP parsing of static files
<FilesMatch "\.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$">
    SetHandler default-handler
    RemoveHandler .css .js .png .jpg .jpeg .gif .ico .svg .woff .woff2 .ttf .eot
</FilesMatch>

# Enable rewrite engine
RewriteEngine On

# Allow direct access to all files and directories first
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Route everything else to index.php
RewriteRule ^(.*)$ index.php [QSA,L]

# Security - protect config files
<Files "config.php">
    Order Allow,Deny
    Deny from all
</Files>

# MIME types for static files
AddType text/css .css
AddType application/javascript .js
AddType image/png .png
AddType image/jpeg .jpg
AddType image/jpeg .jpeg
AddType image/gif .gif
AddType image/x-icon .ico
AddType image/svg+xml .svg
AddType font/woff .woff
AddType font/woff2 .woff2
AddType font/ttf .ttf
AddType application/vnd.ms-fontobject .eot